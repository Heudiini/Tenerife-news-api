<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Climate Change News API</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="header">
      <h1>Climate Change News From Various Sources</h1>
      <div class="demo">Powered by My Custom API ðŸ˜Š</div>
    </header>

    <main>
      <div id="news-container"></div>

      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script>
        const apiUrl = "http://localhost:8000/news";

        axios
          .get(apiUrl)
          .then(function (response) {
            const newsData = response.data;
            let newsHTML = "";

            newsData.forEach(function (item) {
              const title = item.title || "No Title Available";
              const description =
                item.description || "No Description Available";

              newsHTML += `<div class="news-item">
                           <h4>${title}</h4>
                           <p>${description}</p>
                           <a href="${item.url}" target="_blank">Read More</a>
                         </div>`;
            });

            document.getElementById("news-container").innerHTML = newsHTML;
          })
          .catch(function (error) {
            console.error("Error fetching news:", error);
            document.getElementById("news-container").innerHTML =
              "Error fetching news. Please try again later.";
          });
      </script>
    </main>

    <footer>
      Â© 2022 Coded by <a href="https://heudiinis.netlify.app/">Heudiini</a
      ><br />
      <a href="https://github.com/Heudiini/rapid-api-project"
        >Source Code on Github</a
      >
    </footer>
  </body>
</html>
